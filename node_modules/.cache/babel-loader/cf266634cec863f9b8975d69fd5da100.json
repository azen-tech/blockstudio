{"ast":null,"code":"import _regeneratorRuntime from\"/home/azen/Documents/blockstudio-main/App/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/azen/Documents/blockstudio-main/App/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"/home/azen/Documents/blockstudio-main/App/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/azen/Documents/blockstudio-main/App/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"/home/azen/Documents/blockstudio-main/App/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/home/azen/Documents/blockstudio-main/App/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/azen/Documents/blockstudio-main/App/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from\"react\";import{COLORS}from\"./Colors\";import SongCard from\"./SongCard\";import AddSongCard from\"./AddSongCard\";import Loader from\"react-loader-spinner\";import{FontAwesomeIcon}from'@fortawesome/react-fontawesome';import{faMicrophone,faPlusSquare}from'@fortawesome/free-solid-svg-icons';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Artist=/*#__PURE__*/function(_React$Component){_inherits(Artist,_React$Component);var _super=_createSuper(Artist);function Artist(props){var _this;_classCallCheck(this,Artist);_this=_super.call(this,props);_this.state={name:\"\",artistID:\"\",popularity:0,songIDs:[],songs:[],form:false};_this.openForm=_this.openForm.bind(_assertThisInitialized(_this));_this.closeForm=_this.closeForm.bind(_assertThisInitialized(_this));return _this;}_createClass(Artist,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;this.loadArtistDetails().then(function(){console.log(\"Loaded Artist's Details\");_this2.loadSongDetails().then(function(){console.log(\"Loaded Artist's Songs\");});});}},{key:\"loadArtistDetails\",value:function(){var _loadArtistDetails=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var contractInstance,artistDetails,songList,i;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return this.props.contract.deployed();case 2:contractInstance=_context.sent;_context.next=5;return contractInstance.getArtistDetails({from:this.props.account});case 5:artistDetails=_context.sent;songList=[];for(i=0;i<artistDetails[2].length;i++){songList.push(artistDetails[2][i].toString());}this.setState({name:artistDetails[0].toString(),artistID:artistDetails[1].toString(),songIDs:songList});case 9:case\"end\":return _context.stop();}}},_callee,this);}));function loadArtistDetails(){return _loadArtistDetails.apply(this,arguments);}return loadArtistDetails;}()},{key:\"loadSongDetails\",value:function(){var _loadSongDetails=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var contractInstance,songInfoList,i,songDetails;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return this.props.contract.deployed();case 2:contractInstance=_context2.sent;songInfoList=[];i=0;case 5:if(!(i<this.state.songIDs.length)){_context2.next=14;break;}_context2.next=8;return contractInstance.getSongDetails(this.state.songIDs[i],{from:this.props.account});case 8:songDetails=_context2.sent;songInfoList.push({'name':songDetails[0],'genre':songDetails[2],'hash':songDetails[3],'cost':songDetails[4].toString(),'timesPurchased':songDetails[5].toString()});this.state.popularity+=parseInt(songDetails[5].toString());case 11:i++;_context2.next=5;break;case 14:console.log(songInfoList);this.setState({songs:songInfoList});case 16:case\"end\":return _context2.stop();}}},_callee2,this);}));function loadSongDetails(){return _loadSongDetails.apply(this,arguments);}return loadSongDetails;}()},{key:\"openForm\",value:function openForm(){this.setState({form:true});}},{key:\"closeForm\",value:function closeForm(){this.setState({form:false});}},{key:\"render\",value:function render(){var _this3=this;if(this.state.artistID===\"\"){return/*#__PURE__*/_jsx(\"div\",{style:styles.main,children:/*#__PURE__*/_jsx(Loader,{type:\"Bars\",color:COLORS.black})});}else{return/*#__PURE__*/_jsxs(\"div\",{style:styles.main,children:[/*#__PURE__*/_jsxs(\"div\",{style:styles.info,children:[/*#__PURE__*/_jsxs(\"h1\",{children:[/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:faMicrophone}),\" \",this.state.name,\"  \"]}),/*#__PURE__*/_jsxs(\"h3\",{children:[\" Artist ID : \",this.state.artistID,\" \"]}),/*#__PURE__*/_jsxs(\"h3\",{children:[\" Popularity : \",this.state.popularity,\" \"]})]}),/*#__PURE__*/_jsx(\"div\",{style:styles.box,children:this.state.songs.map(function(item,i){return/*#__PURE__*/_jsx(SongCard,{type:\"artist\",name:item.name,genre:item.genre,cost:item.cost,likes:item.timesPurchased,hash:item.hash},i);})}),/*#__PURE__*/_jsx(\"h1\",{children:/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:faPlusSquare,onClick:function onClick(){_this3.openForm();}})}),/*#__PURE__*/_jsx(AddSongCard,{contract:this.props.contract,ipfs:this.props.ipfs,account:this.props.account,form:this.state.form,closeForm:this.closeForm})]});}}}]);return Artist;}(React.Component);var styles={main:{display:\"flex\",flexDirection:\"column\",justifyContent:\"center\",alignItems:\"center\",height:\"100vh\",gap:\"5%\",background:COLORS.brown},info:{display:\"flex\",flexDirection:\"column\",alignItems:\"center\"},box:{height:\"50%\",width:\"60%\",padding:\"2%\",display:\"flex\",flexDirection:\"column\",borderRadius:\"30px\",border:\"3px solid\",overflow:\"auto\",gap:\"2%\",boxShadow:\"2px 5px 2px #191919\",borderColor:COLORS.black,backgroundColor:COLORS.white}};export default Artist;","map":{"version":3,"sources":["/home/azen/Documents/blockstudio-main/App/src/Components/Artist.js"],"names":["React","COLORS","SongCard","AddSongCard","Loader","FontAwesomeIcon","faMicrophone","faPlusSquare","Artist","props","state","name","artistID","popularity","songIDs","songs","form","openForm","bind","closeForm","loadArtistDetails","then","console","log","loadSongDetails","contract","deployed","contractInstance","getArtistDetails","from","account","artistDetails","songList","i","length","push","toString","setState","songInfoList","getSongDetails","songDetails","parseInt","styles","main","black","info","box","map","item","genre","cost","timesPurchased","hash","ipfs","Component","display","flexDirection","justifyContent","alignItems","height","gap","background","brown","width","padding","borderRadius","border","overflow","boxShadow","borderColor","backgroundColor","white"],"mappings":"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","sourcesContent":["import React from \"react\"\nimport {COLORS} from \"./Colors\"\nimport SongCard from \"./SongCard\"\nimport AddSongCard from \"./AddSongCard\"\nimport Loader from \"react-loader-spinner\"\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { faMicrophone, faPlusSquare } from '@fortawesome/free-solid-svg-icons'\n\nclass Artist extends React.Component {\n\n    constructor(props){\n      super(props);\n      this.state = {name: \"\", artistID: \"\", popularity: 0, songIDs: [], songs: [], form : false}\n      this.openForm = this.openForm.bind(this)\n      this.closeForm = this.closeForm.bind(this)\n    }\n  \n    componentDidMount(){\n        this.loadArtistDetails().then(() =>{ console.log(\"Loaded Artist's Details\")\n            this.loadSongDetails().then(() =>{ console.log(\"Loaded Artist's Songs\")})\n        })\n    }\n\n    async loadArtistDetails(){\n        const contractInstance = await this.props.contract.deployed()\n        const artistDetails = await contractInstance.getArtistDetails({from:this.props.account})\n        let songList = []\n        for (let i = 0; i < artistDetails[2].length; i++){\n            songList.push(artistDetails[2][i].toString())\n        }\n        this.setState({\n            name:artistDetails[0].toString(),\n            artistID:artistDetails[1].toString(),\n            songIDs:songList\n        })   \n    }\n\n    async loadSongDetails(){\n        const contractInstance = await this.props.contract.deployed();\n        let songInfoList = []\n        for(let i = 0; i < this.state.songIDs.length; i++){\n            let songDetails = await contractInstance.getSongDetails(this.state.songIDs[i], {from:this.props.account});\n            songInfoList.push({\n                'name': songDetails[0],\n                'genre': songDetails[2],\n                'hash': songDetails[3],\n                'cost': songDetails[4].toString(),\n                'timesPurchased': songDetails[5].toString()\n            });\n            this.state.popularity += parseInt(songDetails[5].toString());\n        }\n        console.log(songInfoList);\n        this.setState({songs:songInfoList})\n    }\n\n    openForm(){\n        this.setState({form : true})\n    }\n\n    closeForm(){\n        this.setState({form : false})\n    }\n\n    render(){\n        \n        if (this.state.artistID === \"\"){\n            return (\n                <div style = {styles.main}>\n                  <Loader type = \"Bars\" color = {COLORS.black}/>\n                </div>\n            )\n        }\n\n        else{\n            return (\n                <div style = {styles.main}>\n                    <div style = {styles.info}>\n                        <h1><FontAwesomeIcon icon={faMicrophone}/> {this.state.name}  </h1>\n                        <h3> Artist ID : {this.state.artistID} </h3>\n                        <h3> Popularity : {this.state.popularity} </h3>\n                    </div>\n                    <div style = {styles.box}>\n                        {this.state.songs.map((item,i)=> (\n                        <SongCard \n                            type = {\"artist\"}\n                            name = {item.name}\n                            genre = {item.genre}\n                            cost = {item.cost}\n                            likes = {item.timesPurchased}\n                            hash = {item.hash}\n                            key = {i}\n                        />))}\n                    </div>\n                    <h1><FontAwesomeIcon  icon={faPlusSquare} onClick = {()=>{this.openForm()}}/></h1>\n                    <AddSongCard contract = {this.props.contract} ipfs = {this.props.ipfs} account = {this.props.account} form = {this.state.form} closeForm = {this.closeForm}/>\n                </div>\n            )\n        }\n    }\n}\n  \nconst styles = {\n    main : {\n        display:\"flex\", \n        flexDirection:\"column\", \n        justifyContent: \"center\", \n        alignItems: \"center\", \n        height:\"100vh\",\n        gap :\"5%\",\n        background:COLORS.brown,\n        },\n    info : {\n        display:\"flex\", \n        flexDirection:\"column\", \n        alignItems: \"center\", \n        },\n    box : {\n        height :\"50%\",\n        width :\"60%\",\n        padding :\"2%\",\n        display:\"flex\", \n        flexDirection:\"column\",\n        borderRadius:\"30px\",\n        border: \"3px solid\",\n        overflow: \"auto\",\n        gap :\"2%\",\n        boxShadow: \"2px 5px 2px #191919\",\n        borderColor :COLORS.black,\n        backgroundColor:COLORS.white,\n    },\n}\n  \nexport default Artist;"]},"metadata":{},"sourceType":"module"}