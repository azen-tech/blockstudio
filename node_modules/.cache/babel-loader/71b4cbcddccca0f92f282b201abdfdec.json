{"ast":null,"code":"import _regeneratorRuntime from\"/home/azen/Documents/blockstudio-main/App/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/azen/Documents/blockstudio-main/App/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"/home/azen/Documents/blockstudio-main/App/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/azen/Documents/blockstudio-main/App/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/home/azen/Documents/blockstudio-main/App/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/azen/Documents/blockstudio-main/App/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from\"react\";import{COLORS}from\"./Colors\";import{FontAwesomeIcon}from'@fortawesome/react-fontawesome';import{faCoins,faCompactDisc,faHeart,faMicrophone,faPlay,faPause,faTag,faShoppingCart}from'@fortawesome/free-solid-svg-icons';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var SongCard=/*#__PURE__*/function(_React$Component){_inherits(SongCard,_React$Component);var _super=_createSuper(SongCard);function SongCard(props){var _this;_classCallCheck(this,SongCard);_this=_super.call(this,props);_this.buySong=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var contractInstance;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return _this.props.contract.deployed();case 2:contractInstance=_context.sent;_context.next=5;return contractInstance.buySong(_this.props.songID,{from:_this.props.account,value:_this.props.cost});case 5:case\"end\":return _context.stop();}}},_callee);}));_this.loadSong=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var audio_src;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:audio_src=\"https://ipfs.infura.io/ipfs/\"+_this.props.hash;_this.setState({audio:new Audio(audio_src)});case 2:case\"end\":return _context2.stop();}}},_callee2);}));_this.playSong=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(){return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:console.log(_this.state.audio);if(_this.state.audio){_this.setState({playing:true});_this.state.audio.play();}case 2:case\"end\":return _context3.stop();}}},_callee3);}));_this.pauseSong=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(){return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:console.log(_this.state.audio);if(_this.state.audio){_this.setState({playing:false});_this.state.audio.pause();}case 2:case\"end\":return _context4.stop();}}},_callee4);}));_this.state={playing:false,audio:\"\",hash:\"\"};return _this;}_createClass(SongCard,[{key:\"componentDidMount\",value:function componentDidMount(){this.loadSong();}},{key:\"render\",value:function render(){if(this.props.type===\"artist\")return/*#__PURE__*/_jsxs(\"div\",{style:styles.card,children:[/*#__PURE__*/_jsxs(\"h5\",{children:[\" \",/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:faCompactDisc}),\" \",this.props.name,\" \"]}),/*#__PURE__*/_jsxs(\"h5\",{children:[\" \",/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:faTag}),\" \",this.props.genre,\" \"]}),/*#__PURE__*/_jsxs(\"h5\",{children:[\" \",/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:faCoins}),\" \",this.props.cost/1000000000000000,\" \"]}),/*#__PURE__*/_jsxs(\"h5\",{children:[\" \",/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:faHeart}),\" \",this.props.likes,\" \"]})]});else if(this.props.type===\"audience\")return/*#__PURE__*/_jsxs(\"div\",{style:!this.state.playing?styles.card:styles.cardHiglight,children:[/*#__PURE__*/_jsxs(\"h5\",{children:[\" \",/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:faCompactDisc,spin:this.state.playing}),\" \",this.props.name,\" \"]}),/*#__PURE__*/_jsxs(\"h5\",{children:[\" \",/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:faTag}),\" \",this.props.genre,\" \"]}),/*#__PURE__*/_jsxs(\"h5\",{children:[\" \",/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:faMicrophone}),\" \",this.props.artist,\" \"]}),this.state.playing?/*#__PURE__*/_jsxs(\"h5\",{children:[\" \",/*#__PURE__*/_jsx(FontAwesomeIcon,{onClick:this.pauseSong,icon:faPause}),\" \"]}):/*#__PURE__*/_jsxs(\"h5\",{children:[\" \",/*#__PURE__*/_jsx(FontAwesomeIcon,{onClick:this.playSong,icon:faPlay}),\" \"]})]});else return/*#__PURE__*/_jsxs(\"div\",{style:styles.card,children:[/*#__PURE__*/_jsxs(\"h5\",{children:[\" \",/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:faCompactDisc}),\" \",this.props.name,\" \"]}),/*#__PURE__*/_jsxs(\"h5\",{children:[\" \",/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:faTag}),\" \",this.props.genre,\" \"]}),/*#__PURE__*/_jsxs(\"h5\",{children:[\" \",/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:faMicrophone}),\" \",this.props.artist,\" \"]}),/*#__PURE__*/_jsxs(\"h5\",{children:[\" \",/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:faCoins}),\" \",this.props.cost/1000000000000000,\" \"]}),/*#__PURE__*/_jsxs(\"h5\",{children:[\" \",/*#__PURE__*/_jsx(FontAwesomeIcon,{onClick:this.buySong,icon:faShoppingCart}),\" \"]})]});}}]);return SongCard;}(React.Component);var styles={card:{height:\"20%\",width:\"100%\",padding:\"2%\",display:\"flex\",flexDirection:\"row\",justifyContent:\"space-between\",alignItems:\"center\",borderRadius:\"10px\",border:\"2px solid\",boxShadow:\"1px 3px 1px #191919\",borderColor:COLORS.black,backgroundColor:COLORS.brown},cardHiglight:{height:\"20%\",width:\"100%\",padding:\"2%\",display:\"flex\",flexDirection:\"row\",justifyContent:\"space-between\",alignItems:\"center\",borderRadius:\"10px\",border:\"2px solid\",boxShadow:\"1px 3px 1px #191919\",borderColor:COLORS.black,backgroundColor:COLORS.highlight}};export default SongCard;","map":{"version":3,"sources":["/home/azen/Documents/blockstudio-main/App/src/Components/SongCard.js"],"names":["React","COLORS","FontAwesomeIcon","faCoins","faCompactDisc","faHeart","faMicrophone","faPlay","faPause","faTag","faShoppingCart","SongCard","props","buySong","contract","deployed","contractInstance","songID","from","account","value","cost","loadSong","audio_src","hash","setState","audio","Audio","playSong","console","log","state","playing","play","pauseSong","pause","type","styles","card","name","genre","likes","cardHiglight","artist","Component","height","width","padding","display","flexDirection","justifyContent","alignItems","borderRadius","border","boxShadow","borderColor","black","backgroundColor","brown","highlight"],"mappings":"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","sourcesContent":["import React from \"react\"\nimport {COLORS} from \"./Colors\"\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { faCoins, faCompactDisc, faHeart, faMicrophone, faPlay, faPause, faTag, faShoppingCart} from '@fortawesome/free-solid-svg-icons'\n\nclass SongCard extends React.Component {\n\n    constructor(props){\n        super(props)\n        this.state = {playing : false, audio: \"\", hash : \"\"}\n    }\n\n    componentDidMount(){\n        this.loadSong()\n    }\n\n    buySong = async () =>{\n        const contractInstance = await this.props.contract.deployed();\n        await contractInstance.buySong(this.props.songID, {from:this.props.account, value: this.props.cost})\n    }\n    \n    loadSong = async () =>{\n        let audio_src= \"https://ipfs.infura.io/ipfs/\"+this.props.hash;\n        this.setState({ audio: new Audio(audio_src)})\n    }\n\n    playSong = async () =>{\n        console.log(this.state.audio)\n        if(this.state.audio){\n            this.setState({playing : true})\n            this.state.audio.play()\n        }\n    }\n\n    pauseSong = async () =>{\n        console.log(this.state.audio)\n        if(this.state.audio){\n            this.setState({playing : false})\n            this.state.audio.pause()\n        }\n    }\n\n    render(){\n        if (this.props.type === \"artist\")\n            return (\n                <div style = {styles.card}>\n                    <h5> <FontAwesomeIcon icon={faCompactDisc} /> {this.props.name} </h5>\n                    <h5> <FontAwesomeIcon icon={faTag} /> {this.props.genre} </h5>\n                    <h5> <FontAwesomeIcon icon={faCoins} /> {this.props.cost/1000000000000000} </h5>\n                    <h5> <FontAwesomeIcon icon={faHeart} /> {this.props.likes} </h5>\n                </div>    \n            )\n        else if (this.props.type === \"audience\")\n            return (\n                <div style = {!this.state.playing? styles.card : styles.cardHiglight}>\n                    <h5> <FontAwesomeIcon icon={faCompactDisc}  spin = {this.state.playing}/> {this.props.name} </h5>\n                    <h5> <FontAwesomeIcon icon={faTag} /> {this.props.genre} </h5>\n                    <h5> <FontAwesomeIcon icon={faMicrophone} /> {this.props.artist} </h5>\n                    {   this.state.playing? \n                            <h5> <FontAwesomeIcon onClick={this.pauseSong} icon={faPause} /> </h5> \n                        :   <h5> <FontAwesomeIcon onClick={this.playSong} icon={faPlay} /> </h5>\n                    }\n                </div>    \n            )\n        else\n            return (\n                <div style = {styles.card}>\n                    <h5> <FontAwesomeIcon icon={faCompactDisc} /> {this.props.name} </h5>\n                    <h5> <FontAwesomeIcon icon={faTag} /> {this.props.genre} </h5>\n                    <h5> <FontAwesomeIcon icon={faMicrophone} /> {this.props.artist} </h5>\n                    <h5> <FontAwesomeIcon icon={faCoins} /> {this.props.cost/1000000000000000} </h5>\n                    <h5> <FontAwesomeIcon onClick={this.buySong} icon={faShoppingCart} /> </h5>\n                </div>\n            )\n    }\n}\n  \nconst styles = {\n    card : {\n        height :\"20%\",\n        width :\"100%\",\n        padding :\"2%\",\n        display:\"flex\", \n        flexDirection:\"row\", \n        justifyContent: \"space-between\",\n        alignItems: \"center\",\n        borderRadius:\"10px\",\n        border: \"2px solid\",\n        boxShadow: \"1px 3px 1px #191919\",\n        borderColor :COLORS.black,\n        backgroundColor:COLORS.brown,\n    },\n    cardHiglight : {\n        height :\"20%\",\n        width :\"100%\",\n        padding :\"2%\",\n        display:\"flex\", \n        flexDirection:\"row\", \n        justifyContent: \"space-between\",\n        alignItems: \"center\",\n        borderRadius:\"10px\",\n        border: \"2px solid\",\n        boxShadow: \"1px 3px 1px #191919\",\n        borderColor :COLORS.black,\n        backgroundColor:COLORS.highlight,\n    },\n}\n  \nexport default SongCard;"]},"metadata":{},"sourceType":"module"}