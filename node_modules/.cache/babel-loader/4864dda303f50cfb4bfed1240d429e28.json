{"ast":null,"code":"var _jsxFileName = \"/home/azen/Documents/blockstudio-main/App/src/Components/Artist.js\";\nimport React from \"react\";\nimport { COLORS } from \"./Colors\";\nimport SongCard from \"./SongCard\";\nimport AddSongCard from \"./AddSongCard\";\nimport Loader from \"react-loader-spinner\";\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faMicrophone, faPlusSquare } from '@fortawesome/free-solid-svg-icons';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass Artist extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      name: \"\",\n      artistID: \"\",\n      popularity: 0,\n      songIDs: [],\n      songs: [],\n      form: false\n    };\n    this.openForm = this.openForm.bind(this);\n    this.closeForm = this.closeForm.bind(this);\n  }\n\n  componentDidMount() {\n    this.loadArtistDetails().then(() => {\n      console.log(\"Loaded Artist's Details\");\n      this.loadSongDetails().then(() => {\n        console.log(\"Loaded Artist's Songs\");\n      });\n    });\n  }\n\n  async loadArtistDetails() {\n    const contractInstance = await this.props.contract.deployed();\n    const artistDetails = await contractInstance.getArtistDetails({\n      from: this.props.account\n    });\n    let songList = [];\n\n    for (let i = 0; i < artistDetails[2].length; i++) {\n      songList.push(artistDetails[2][i].toString());\n    }\n\n    this.setState({\n      name: artistDetails[0].toString(),\n      artistID: artistDetails[1].toString(),\n      songIDs: songList\n    });\n  }\n\n  async loadSongDetails() {\n    const contractInstance = await this.props.contract.deployed();\n    let songInfoList = [];\n\n    for (let i = 0; i < this.state.songIDs.length; i++) {\n      let songDetails = await contractInstance.getSongDetails(this.state.songIDs[i], {\n        from: this.props.account\n      });\n      songInfoList.push({\n        'name': songDetails[0],\n        'genre': songDetails[2],\n        'hash': songDetails[3],\n        'cost': songDetails[4].toString(),\n        'timesPurchased': songDetails[5].toString()\n      });\n      this.state.popularity += parseInt(songDetails[5].toString());\n    }\n\n    console.log(songInfoList);\n    this.setState({\n      songs: songInfoList\n    });\n  }\n\n  openForm() {\n    this.setState({\n      form: true\n    });\n  }\n\n  closeForm() {\n    this.setState({\n      form: false\n    });\n  }\n\n  render() {\n    if (this.state.artistID === \"\") {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        style: styles.main,\n        children: /*#__PURE__*/_jsxDEV(Loader, {\n          type: \"Bars\",\n          color: COLORS.black\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 19\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 17\n      }, this);\n    } else {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        style: styles.main,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: styles.info,\n          children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n            children: [/*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n              icon: faMicrophone\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 78,\n              columnNumber: 29\n            }, this), \" \", this.state.name, \"  \"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 78,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n            children: [\" Artist ID : \", this.state.artistID, \" \"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 79,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n            children: [\" Popularity : \", this.state.popularity, \" \"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 80,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: styles.box,\n          children: this.state.songs.map((item, i) => /*#__PURE__*/_jsxDEV(SongCard, {\n            type: \"artist\",\n            name: item.name,\n            genre: item.genre,\n            cost: item.cost,\n            likes: item.timesPurchased,\n            hash: item.hash\n          }, i, false, {\n            fileName: _jsxFileName,\n            lineNumber: 84,\n            columnNumber: 25\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n          children: /*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n            icon: faPlusSquare,\n            onClick: () => {\n              this.openForm();\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 94,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(AddSongCard, {\n          contract: this.props.contract,\n          ipfs: this.props.ipfs,\n          account: this.props.account,\n          form: this.state.form,\n          closeForm: this.closeForm\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 17\n      }, this);\n    }\n  }\n\n}\n\nconst styles = {\n  main: {\n    display: \"flex\",\n    flexDirection: \"column\",\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    height: \"100vh\",\n    gap: \"5%\",\n    background: COLORS.brown\n  },\n  info: {\n    display: \"flex\",\n    flexDirection: \"column\",\n    alignItems: \"center\"\n  },\n  box: {\n    height: \"50%\",\n    width: \"60%\",\n    padding: \"2%\",\n    display: \"flex\",\n    flexDirection: \"column\",\n    borderRadius: \"30px\",\n    border: \"3px solid\",\n    overflow: \"auto\",\n    gap: \"2%\",\n    boxShadow: \"2px 5px 2px #191919\",\n    borderColor: COLORS.black,\n    backgroundColor: COLORS.white\n  }\n};\nexport default Artist;","map":{"version":3,"sources":["/home/azen/Documents/blockstudio-main/App/src/Components/Artist.js"],"names":["React","COLORS","SongCard","AddSongCard","Loader","FontAwesomeIcon","faMicrophone","faPlusSquare","Artist","Component","constructor","props","state","name","artistID","popularity","songIDs","songs","form","openForm","bind","closeForm","componentDidMount","loadArtistDetails","then","console","log","loadSongDetails","contractInstance","contract","deployed","artistDetails","getArtistDetails","from","account","songList","i","length","push","toString","setState","songInfoList","songDetails","getSongDetails","parseInt","render","styles","main","black","info","box","map","item","genre","cost","timesPurchased","hash","ipfs","display","flexDirection","justifyContent","alignItems","height","gap","background","brown","width","padding","borderRadius","border","overflow","boxShadow","borderColor","backgroundColor","white"],"mappings":"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","sourcesContent":["import React from \"react\"\nimport {COLORS} from \"./Colors\"\nimport SongCard from \"./SongCard\"\nimport AddSongCard from \"./AddSongCard\"\nimport Loader from \"react-loader-spinner\"\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { faMicrophone, faPlusSquare } from '@fortawesome/free-solid-svg-icons'\n\nclass Artist extends React.Component {\n\n    constructor(props){\n      super(props);\n      this.state = {name: \"\", artistID: \"\", popularity: 0, songIDs: [], songs: [], form : false}\n      this.openForm = this.openForm.bind(this)\n      this.closeForm = this.closeForm.bind(this)\n    }\n  \n    componentDidMount(){\n        this.loadArtistDetails().then(() =>{ console.log(\"Loaded Artist's Details\")\n            this.loadSongDetails().then(() =>{ console.log(\"Loaded Artist's Songs\")})\n        })\n    }\n\n    async loadArtistDetails(){\n        const contractInstance = await this.props.contract.deployed()\n        const artistDetails = await contractInstance.getArtistDetails({from:this.props.account})\n        let songList = []\n        for (let i = 0; i < artistDetails[2].length; i++){\n            songList.push(artistDetails[2][i].toString())\n        }\n        this.setState({\n            name:artistDetails[0].toString(),\n            artistID:artistDetails[1].toString(),\n            songIDs:songList\n        })   \n    }\n\n    async loadSongDetails(){\n        const contractInstance = await this.props.contract.deployed();\n        let songInfoList = []\n        for(let i = 0; i < this.state.songIDs.length; i++){\n            let songDetails = await contractInstance.getSongDetails(this.state.songIDs[i], {from:this.props.account});\n            songInfoList.push({\n                'name': songDetails[0],\n                'genre': songDetails[2],\n                'hash': songDetails[3],\n                'cost': songDetails[4].toString(),\n                'timesPurchased': songDetails[5].toString()\n            });\n            this.state.popularity += parseInt(songDetails[5].toString());\n        }\n        console.log(songInfoList);\n        this.setState({songs:songInfoList})\n    }\n\n    openForm(){\n        this.setState({form : true})\n    }\n\n    closeForm(){\n        this.setState({form : false})\n    }\n\n    render(){\n        \n        if (this.state.artistID === \"\"){\n            return (\n                <div style = {styles.main}>\n                  <Loader type = \"Bars\" color = {COLORS.black}/>\n                </div>\n            )\n        }\n\n        else{\n            return (\n                <div style = {styles.main}>\n                    <div style = {styles.info}>\n                        <h1><FontAwesomeIcon icon={faMicrophone}/> {this.state.name}  </h1>\n                        <h3> Artist ID : {this.state.artistID} </h3>\n                        <h3> Popularity : {this.state.popularity} </h3>\n                    </div>\n                    <div style = {styles.box}>\n                        {this.state.songs.map((item,i)=> (\n                        <SongCard \n                            type = {\"artist\"}\n                            name = {item.name}\n                            genre = {item.genre}\n                            cost = {item.cost}\n                            likes = {item.timesPurchased}\n                            hash = {item.hash}\n                            key = {i}\n                        />))}\n                    </div>\n                    <h1><FontAwesomeIcon  icon={faPlusSquare} onClick = {()=>{this.openForm()}}/></h1>\n                    <AddSongCard contract = {this.props.contract} ipfs = {this.props.ipfs} account = {this.props.account} form = {this.state.form} closeForm = {this.closeForm}/>\n                </div>\n            )\n        }\n    }\n}\n  \nconst styles = {\n    main : {\n        display:\"flex\", \n        flexDirection:\"column\", \n        justifyContent: \"center\", \n        alignItems: \"center\", \n        height:\"100vh\",\n        gap :\"5%\",\n        background:COLORS.brown,\n        },\n    info : {\n        display:\"flex\", \n        flexDirection:\"column\", \n        alignItems: \"center\", \n        },\n    box : {\n        height :\"50%\",\n        width :\"60%\",\n        padding :\"2%\",\n        display:\"flex\", \n        flexDirection:\"column\",\n        borderRadius:\"30px\",\n        border: \"3px solid\",\n        overflow: \"auto\",\n        gap :\"2%\",\n        boxShadow: \"2px 5px 2px #191919\",\n        borderColor :COLORS.black,\n        backgroundColor:COLORS.white,\n    },\n}\n  \nexport default Artist;"]},"metadata":{},"sourceType":"module"}